<main id="survey">
    <div class="survey-body">
        <div class="survey-container">
            <div class="survey-intro">
                <div style="display: flex; flex-direction: row; justify-content: space-between; align-item: center;" >
                    <h2 class="sub-title">Trắc nghiệm đánh giá mức độ stress Beck</h2>
                    <button id="play-music" class="play-music-btn">
                        <img id="play-music-icon" src="/img/music-icon.jpg" alt="Play Music">
                    </button>
                </div>
                <p class="description">
                    Bài trắc nghiệm này giúp bạn đánh giá mức độ stress của bản thân. 
                    Hãy đọc kỹ và chọn phương án phù hợp nhất với tình trạng của bạn trong 2 tuần gần đây.
                </p>
            </div>

            <div class="progress-bar">
                <div class="progress-text">Đã trả lời <span id="current-question">1</span>/21</div>
                <div class="progress-track">
                    <div class="progress-fill" style="width: 4.76%"></div>
                </div>
                <audio id="background-audio" src="/mp3/music.mp3" loop>
                </audio>
            </div>

            <form id="survey-form" action="/survey" method="POST">
                <div class="questions">
                    {{#each questions}}
                    <div class="question-card">
                        <h3 class="question-number">Câu {{this.number}}</h3>
                        <p class="question-text">{{this.text}}</p>
                        <div class="answers">
                            {{#each this.answers}}
                            <div class="answer-option">
                                <input type="radio" 
                                       id="q{{../number}}a{{@index}}" 
                                       name="question{{../number}}" 
                                       value="{{@index}}"
                                       required>
                                <label for="q{{../number}}a{{@index}}">{{this}}</label>
                            </div>
                            {{/each}}
                        </div>
                    </div>
                    {{/each}}
                </div>

                <div class="form-actions">
                    <button type="submit" class="submit-btn">
                        <span>Gửi câu trả lời</span>
                        <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </form>
        </div>
    </div>
</main>

<script src="/scripts/survey.js"></script>